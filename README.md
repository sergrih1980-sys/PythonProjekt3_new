# Skypro Widget for Client Banking Operations


Виджет для обработки клиентских банковских операций: маскировка конфиденциальных данных, фильтрация и сортировка операций.

## Описание функционала

Проект включает три основных модуля для работы с банковскими данными.

## Модули

### 1. `masks`

Функции для маскировки конфиденциальных данных.

- **`get_mask_card_number(card_number: str) -> str`**  
  Маскирует номер карты в формате: `XXXX XX** **** XXXX`.  
  **Пример:**  
  `7000792289606361` → `7000 79** **** 6361`

- **`get_mask_account(account_number: str) -> str`**  
  Маскирует номер счёта в формате: **`XXXX`.  
  **Пример:**  
  `73654108430135874305` → **`4305`

### 2. `widget`

Работа с банковскими данными: автоматическое определение типа данных, преобразование даты.

- **`mask_account_card(card_or_account_data: str) -> str`**  
  Автоматически определяет тип (карта/счёт) и применяет маску.  
  **Примеры:**  
  - `Visa Platinum 7000792289606361` → `Visa Platinum 7000 79** **** 6361`  
  - `Счёт 73654108430135874305` → `Счёт **4305`

- **`get_date(data_info: str) -> str`**  
  Преобразует дату из формата `YYYY-MM-DDTHH:MM:SS.ffffff` в `ДД.ММ.ГГГГ`.  
  **Пример:**  
  `2024-03-11T02:26:18.671407` → `11.03.2024`

### 3. `processing`

Фильтрация и сортировка банковских операций.

- **`filter_by_state(operations: list, state: str = 'EXECUTED') -> list`**  
  Фильтрует операции по статусу.  
  **Параметры:**  
  - `operations` — список операций (словари);  
  - `state` — статус (по умолчанию `'EXECUTED'`).

  **Пример:**
  ```python
  from processing import filter_by_state

  operations = [
      {'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'},
      {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}
  ]

  executed_operations = filter_by_state(operations)
  # [{'id': 41428829, ...}]

## Тестирование

Для обеспечения корректности работы виджета реализован набор автоматизированных тестов.

### Цели тестирования

- Проверка корректности маскировки данных в модуле `masks`.
- Валидация логики автоматического определения типа данных в `widget`.
- Тестирование фильтрации операций в модуле `processing`.
- Выявление краевых случаев и обработка исключений.

### Структура тестового окружения

Тесты организованы в директории `tests/`, где каждый модуль имеет соответствующий файл:

- `tests/test_masks.py` — тесты для модуля `masks`;
- `tests/test_widget.py` — тесты для модуля `widget`;
- `tests/test_processing.py` — тесты для модуля `processing`.